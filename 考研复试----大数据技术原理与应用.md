### 概述

> 大数据的四个特点

数据量大、数据类型繁多、处理速度快、价值密度低



### 大数据处理架构Hadoop

- Hadoop的核心是分布式文件系统HDFS和MapReduce分布式编程
- Hadoop是一个能对大量数据进行分布是处理的软件框架，具有一以下特性：
  - 高可靠性
  - 高效性
  - 高可扩展性
  - 成本低
  - 运行在linux平台
  - 支持多种编程语言
- Hadoop的项目结构
  - HDFS 分布式文件系统
  - MapReduce 分布式并行编程模型
  - YARN 资源管理和调度器
  - HBASE 非关系型分布式数据库
  - Zookeeper 提供分布式协调一致性服务
  - Spark 类似MapReduce的并行框架



### HDFS 



- 试述HDFS中的名称节点和数据节点的具体功能（p50）
  在HDFS中，名称节点负责管理分布式文件系统的命名空间，保存了两个核心的数据结构（FsImage和EditLog）。**名称节点**记录了每个文件中各个块所在的数据节点的位置信息，但是并不持久化地存储这些信息，而是在系统每次启动时扫描所有数据节点并重构，得到这些信息。

  **数据节点**是分布式文件系统HDFS地工作节点，负责数据地存储和读取，会根据客户端或者名称节点地调度来进行数据的存储和检索，并且向名称节点定期发送自己所储存的块的列表信息。每个数据节点中的数据会被保存在各自节点的本地Linux文件系统中。
  
- 第二名称节点

  用来保存名称节点对元数据信息的备份，减少名称节点的启动时间

- HDFS只设置一个名称节点的局限性

  - 命名空间的限制
  - 性能的瓶颈
  - 隔离问题
  - 集群的可用性

- HDFS还采用了冗余数据存储，增强了数据可靠性，加快了数据传输速度





### HBASE

- HBase是什么?

  一个高可靠、高性能、面向列、可伸缩的分布式数据库。

- HBase与传统数据库对比。

  数据类型：采用未经解释的字符串。

  数据操作：行键查询、只有简单的插入、查询、删除、清空等。

  存储模式：列式存储。

  数据索引：行键索引。

  数据维护：并不删除原来的数据。

  横向可伸缩性：面向列存储。

  缺陷：不支持事务、无法实现跨行原子性。

- #### 功能组件

  1. 库函数
  2. 一个Master主服务器 : 负责管理和维护HBase表的分区信息，维护Region服务器列表，分配Region，负载均衡
  3. 许多个Region服务器: 负责存储和维护分配给自己的Region，处理来自客户端的读写请求；客户端并不是直接从Master主服务器上读取数据，而是在获得Region的存储位置信息后，直接从Region服务器上读取数据

- #### Hbase三层结构

  一、Zookeeper文件：记录了-ROOT-表的位置信息

  二、ROOT-表：记录了.META.表的Region位置信息

  三、META.表：-记录了数据表的Region位置信息

  为了加快访问速度，.META.表的全部Region都会被保存在内存中



### NoSql

- NoSQL，指的是非关系型的数据库。NoSQL有时也称作Not Only SQL的缩写，是对不同于传统的关系型数据库的数据库管理系统的统称。

  NoSQL用于超大规模数据的存储。（例如谷歌或Facebook每天为他们的用户收集万亿比特的数据）。这些类型的数据存储不需要固定的模式，无需多余操作就可以横向扩展。

- ### CAP定理（CAP theorem）

  在计算机科学中, CAP定理（CAP theorem）, 又被称作 布鲁尔定理（Brewer's theorem）, 它指出对于一个分布式计算系统来说，不可能同时满足以下三点:

  - **一致性(Consistency)** (所有节点在同一时间具有相同的数据)
  - **可用性(Availability)** (保证每个请求不管成功或者失败都有响应)
  - **分区容错性(Partition tolerance)** (系统中任意信息的丢失或失败不会影响系统的继续运作)

  CAP理论的核心是：一个分布式系统不可能同时很好的满足一致性，可用性和分区容错性这三个需求，最多只能同时较好的满足两个。

  因此，根据 CAP 原理将 NoSQL 数据库分成了满足 CA 原则、满足 CP 原则和满足 AP 原则三大类：

  - CA - 单点集群，满足一致性，可用性的系统，通常在可扩展性上不太强大。
  - CP - 满足一致性，分区容忍性的系统，通常性能不是特别高。
  - AP - 满足可用性，分区容忍性的系统，通常可能对一致性要求低一些。
  
- ## NoSQL的优点/缺点

  优点:

  - \- 高可扩展性
  - \- 分布式计算
  - \- 低成本
  - \- 架构的灵活性，半结构化数据
  - \- 没有复杂的关系

  缺点:

  - \- 没有标准化
  - \- 有限的查询功能（到目前为止）
  - \- 最终一致是不直观的程序



### MapReduce

-  ### 特点

  1. 无需管理master、slave和分布式，程序员只需关注业务本身。
  2. 计算跟着数据走
  3. 良好的扩展性：计算能力随着节点数增加，近似线性递增
  4. 高容错
  5. 状态监控
  6. 适合海量数据的离线批处理
  7. 降低了分布式编程的门槛
  8. MapReduce框架采用了Master/Slave架构，包括一个Master和若干个Slave。
  9. Master上运行JobTracker，负责作业管理、状态监控和任务调度等，Slave上运行TaskTracker，负责任务的执行和任务状态的汇报；
  
-  ### MapReduce体系结构

   主要由四个部分组成，分别是Client、JobTracker、TaskTracker以及Task。

-  ### MapReduce工作流程

   MapReduce 就是将输入进行分片，交给不同的 Map 任务进行处理，然后由 Reduce 任务合并成最终的解。

   1. 对输入的数据进行分片格式化。
   2. 执行MapTask。每个切片分配一个map()任务，map()对其中的数据进行计算，对每个数据用键值对的形式记录。
   3. 对MapTask进行Shuffle，形成内部有序，整体无序的小文件
   4. 将小文件传到Reduce()中执行，，然后进行归并排序，最终输出

   

### Spark

- ### 与Hadoop的关系

  Spark在借鉴Hadoop MapReduce优点的同时，

  1. Spark编辑模型比Hadoop更灵活，
  2. spark提高了内存计算，对于迭代运算效率更高。
  3. Spark基于DAG的任务调度执行机制优于Hadoop的迭代执行机制。



### 大数据的应用



- 推荐系统

  - 基于用户的协同过滤(userCF)

    兴趣相似的用户往往有相同的物品爱好

    算法实现主要有两个步骤：

    - 找到与目标用户兴趣相似的用户集合
    - 找到该集合中用户所喜欢的且目标用户没听说过的物品推荐给目标用户

    关键在于找到用户与用户之间的兴趣相似度。常见的相似度算法有：

    - 泊松相关系数
    - 余弦相似度

  - 基于物品的协同过滤

    算法步骤：

    - 计算物品之间的相似度
    - 根据物品相似度和用户的历史行为给用户生成推荐列表

  - UserCF推荐更具有社会化，ItemCF更具有个性化

    
    
### 可能会问到的问题



- #### 大数据的定义是什么，大数据技术的应用场景有哪些？

  > 大数据是指数据规模巨大、类型繁多、处理速度快的数据集合，通常需要用高级的数据处理技术来获取、存储、管理、分析和可视化这些数据。具体来说，大数据的定义通常包括以下四个方面：
  >
  > 1. 数据量大：传统数据处理技术无法处理的数据量级，通常至少在TB级别以上。
  > 2. 数据类型多样：大数据不仅包括结构化数据，还包括半结构化数据和非结构化数据，如文本、图像、音频和视频等。
  > 3. 处理速度快：对于某些应用场景，数据需要在实时或准实时的情况下进行处理和分析。
  > 4. 价值密度低：大数据集合中包含的数据往往是海量、多样、冗余和噪声的，需要通过挖掘和分析来提取价值信息。
  >
  > 大数据技术的应用场景非常广泛，包括但不限于：
  >
  > 1. 电子商务：大数据技术可以用于用户行为分析、商品推荐、营销策略制定等。
  > 2. 金融行业：大数据技术可以用于风险管理、信用评估、投资分析等。
  > 3. 医疗保健：大数据技术可以用于疾病预测、诊断辅助、药物研发等。
  > 4. 智能制造：大数据技术可以用于质量控制、生产计划调度、故障预测等。
  > 5. 城市管理：大数据技术可以用于交通管理、环境监测、安全预警等。

- #### 请简要介绍一下Hadoop和Spark的原理及其在大数据处理中的应用。

  > Hadoop和Spark都是大数据处理中常用的开源软件。
  >
  > Hadoop是一个分布式计算平台，采用HDFS（Hadoop Distributed File System）作为底层数据存储系统，采用MapReduce作为分布式计算框架。Hadoop的MapReduce框架将数据分为多个小块进行并行处理，具有良好的扩展性和容错性。Hadoop的应用场景包括数据仓库、日志分析、机器学习等领域。
  >
  > Spark是一个快速的、通用的大数据处理引擎，支持数据的批处理、流处理、交互式查询等多种处理方式。Spark采用基于内存的计算，提高了数据处理速度，并且支持多种编程语言，如Scala、Java、Python等。Spark的应用场景包括机器学习、图计算、数据仓库等领域。
  >
  > Hadoop和Spark都是大数据处理中常用的开源软件，它们可以根据不同的需求选择合适的应用场景。

- #### 什么是MapReduce？请介绍MapReduce的原理以及它在大数据处理中的应用。

  > MapReduce是一种分布式计算模型，用于处理大规模数据集。它的设计思想是将大规模数据集分成多个小数据块，将这些小数据块分配给不同的计算机节点进行处理，最后将计算结果合并起来得到最终结果。
  >
  > MapReduce的工作流程可以分为两个阶段：Map阶段和Reduce阶段。在Map阶段中，数据被分为多个小数据块，并被传送到不同的计算机节点上。每个节点对它所分配的数据块执行Map操作，生成键值对的集合。在Reduce阶段中，所有生成的键值对被根据键的值进行分组，同一组内的键值对被传送到同一个节点进行Reduce操作，最后得到最终结果。
  >
  > MapReduce的应用场景非常广泛，例如搜索引擎、社交网络、金融、医疗等领域。它可以用于分布式数据处理、数据挖掘、机器学习、文本分析等任务，特别是对于大规模数据处理，MapReduce具有很高的效率和可扩展性。

- #### 请简要介绍一下分布式文件系统（如HDFS）的概念及其在大数据处理中的应用。

  > 分布式文件系统是指将文件数据分布存储在多个节点上，使得多个节点可以同时访问、共享和管理这些文件的系统。在大数据处理中，分布式文件系统可以实现对海量数据的高效存储和管理，并提供高可靠性和高可用性。
  >
  > Hadoop分布式文件系统（HDFS）是大数据处理领域最著名的分布式文件系统之一。它将文件分成多个块并存储在不同的节点上，同时维护一个名称空间来管理这些块。HDFS采用主从架构，由一个NameNode和多个DataNode组成。NameNode负责维护文件系统的名称空间和块的元数据，而DataNode负责存储和管理实际的块数据。
  >
  > HDFS在大数据处理中的应用非常广泛。它能够处理PB级别的数据，提供高可用性和高可靠性的数据存储，支持并发读写操作，并且可以与Hadoop生态系统中的其他组件（如MapReduce、Hive等）无缝集成，为数据处理提供了良好的基础设施。除了HDFS之外，还有一些其他的分布式文件系统，如Ceph、GlusterFS等，它们也广泛用于大数据处理中。

- #### 请简要介绍一下NoSQL数据库的概念以及其在大数据处理中的应用。

  >  	NoSQL数据库（Not Only SQL）是指非关系型数据库，相对于传统的关系型数据库（如MySQL、Oracle等），NoSQL数据库更适合大规模数据的存储和处理。NoSQL数据库不使用固定的表结构，数据可以以键值对、文档、列族等不同的形式存储，具有高可扩展性、高可用性、高性能等特点。
  >
  > 在大数据处理中，NoSQL数据库经常用来处理非结构化和半结构化数据，例如日志、文本、图像、音频、视频等类型的数据。NoSQL数据库适用于需要快速存储和处理大量数据的场景，例如Web应用程序、社交媒体、物联网、电子商务、在线广告等。
  >
  > 一些常见的NoSQL数据库包括：
  >
  > 1. MongoDB：一种基于文档的数据库，使用JSON格式存储数据，支持灵活的数据模型和快速的查询。
  > 2. Cassandra：一种分布式数据库，使用列族存储数据，支持跨数据中心的复制和高可用性。
  > 3. Redis：一种基于内存的数据库，支持多种数据结构和高速的读写操作，适用于缓存、队列、会话管理等场景。
  > 4. HBase：一种列式数据库，基于Hadoop分布式文件系统（HDFS）实现，适用于半结构化和非结构化数据的存储和处理。
  >
  > NoSQL数据库在大数据处理中的应用越来越广泛，它们可以与Hadoop、Spark等大数据处理框架结合使用，支持分布式计算和存储，为大数据处理提供了更加高效和灵活的解决方案。

  


​    
​    

   







