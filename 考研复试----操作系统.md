### 重点问题

- **什么是操作系统，它有哪些功能和特征**

  操作系统(operating system)，是管理和控制计算机软硬件资源的程序。是直接运行在裸机上的最基本的系统软件。任何软件都需要操作系统的支持。

  - 操作系统可以进行处理机管理、存储器管理、设备管理、文件管理
  - 操作系统控制管理软硬件及数据资源，控制程序运行、改善人机交互界面，按照程序的请求分配资源
  - 操作系统的特征：
    - 并发 同一时间间隔
    - 共享 进程共享系统的资源
    - 虚拟 把物理实体变成逻辑对应物
    - 异步 进程的执行不是一走到底，而是走走停停，以不可预知的速度向前推进

- **详细说说操作系统的管理功能**

  - 处理机管理：进程控制、进程同步、进程通信、进程调度
  - 存储管理：内存分配、内存保护、内存扩充、地址映射
  - 设备管理：缓冲管理、设备分配、设备处理程序
  - 文件管理：文件存储空间的管理、目录管理、文件的读写管理和保护

- **操作系统的发展过程**

  - 手工阶段，无操作系统，计算机的所有工作都需要人工干预，CPU利用率低
  - 单道批处理系统，在主机和输入机之间增加一个存储设备----磁带机，提高了计算机资源的利用率，但每次内存中仅存放一道作业
  - 多道批处理系统，允许多个程序同时进入内存并运行，不提供人机交互能力，不利于用户操作
  - 分时操作系统，把处理机的运行时间分很短时间片，按时间片轮流把处理及分配给作业使用
  - 实时操作系统分为软实时和硬实时，硬实时是飞机、导弹自动控制，软实时预定飞机票查询航班
  - 网络操作系统和分布式操作系统

- 什么是管态和目态，

  - 管态又被称为特权态和核心态，CPU在管态可以执行指令系统的全集，可以访问系统的所有资源
  - 目态又称用户态，只能执行非特权指令，不能改变CPU的状态，只能访问当前程序的存储空间
  - 区分管态和目态的目的是为了保护操作系统程序，内核程序不允许用户直接执行

- **怎么从用户态切换到管态？**

  - 系统调用
  - 异常
  - I/O设备的中断
  - 系统调用是进程主动发起的，而异常和中断是被动地

- **进程和线程的区别？**

  - 线程就是轻量级进程，它是CPU调度的基本执行单元，由线程ID、程序计数器、寄存器集合、堆栈组成，线程属于进程
  - 进程是资源分配和调度的基本单位，线程是CPU调度的基本单元
  - 进程里面可以有多个线程，线程共享进程内的资源
  - 进程的创建使用fork和vfork，而线程的创建使用pthread_create；

- **进程间的通信方式有哪些？**

  - 共享内存模式 在通信进程之间存在一块直接访问的共享空间
  - 消息传递模式 进程必须使用系统提供的发送消息和接收消息两个原语 又称信箱通信
  - 共享文件模式 连接一个读进程和一个写进程以实现它们之间通信的文件就是共享文件，又称pipe管道文件

- **高级调度和低级调度的区别？以及什么是中级调度？**

  - 高级调度称为作业调度，是根据某种算法，把外存上处于后备队列的作业调入内存
  - 低级调度称为进程调度，根据某种算法就绪队列的进程分配处理机
  - 中级调度主要目的是提高内存的利用率和系统吞吐量，将暂时不能运行的进程调至外存等待，将进程的状态改为挂机状态

- **常见的调度算法？**

  - FCFS(从先来先服务) 按照进入系统先后的次序调度，有利于CPU繁忙型进程，不利于IO繁忙型进程，对短作业不利
  - SJF(短作业优先) 挑选运行时间最短的进程先上处理机，对长作业不利，容易使其饥饿
  - 优先级调度算法，又分为抢占式和非抢占式
  - 高响应比优先调度算法，响应比等于(等待时间+要求服务时间)/要求服务时间，克服了饥饿状态
  - 时间片轮转算法 主要适用于分时系统的调度，若时间片太大，则会退化成先来先服务，若时间片太小，则会频繁切换上下文，频繁中断，增加系统开销
  - 多级反馈队列调度算法 设置多个就绪队列，并赋予优先级，优先级越高，时间片越小。仅当高优先级队列中无就绪进程才开始调度低优先级队列的进程

- **什么是死锁？为什么会产生死锁？怎么解决死锁？**

  - 死锁是指多个进程因竞争资源而造成互相等待，无法向前推进的局面。

  - 产生死锁的原因有竞争资源和推进顺序非法

  - 死锁产生的必要条件：

    - 互斥
    - 请求和保持 进程本身占有资源又去请求其他资源
    - 不可剥夺
    - 循环等待 存在一种进程等待循环链

  - 解决死锁的方法有：

    - 预防死锁 破坏死锁产生的必要条件
    - 避免死锁 银行家算法
    - 死锁的监测与解除  检测使用资源分配图 解除可以进程回退、撤销进程

  - **什么是动态重定位？怎么实现？**

    动态重定位是指将访问的程序和数据的逻辑地址转换成物理地址

    具体实现方法是加一个重定位寄存器，装入程序在内存的起始地址，程序执行的时候，访问的是相对地址加上重定位寄存器的地址

  - **分区存储管理有哪些分配策略？优缺点**

    - 首次适应算法 按地址从小到大排序 每次分配从低地址查找
    - 循环首次适应算法 从上次结束的位置查找
    - 最佳适应算法 按空间大小排序 每次分配最小的符合条件的分区 会留下许多小的难以利用的空闲区
    - 最坏适应算法 按空间大小排序 每次分配最大的符合条件的分区

    

  - **在具有快表的段页式存储管理方式中，如何实现地址变换？**

    进行地址变换时，首先利用段号S，将它与段长TL进行比较。若S<TL，表示未越界，利用段表始址和段号来求出该段所对应的段表项在段表中的位置，从中得到该段的页表始址，并利用逻辑地址中的段内页号P来获得对应页的页表项位置，从中读出该页所在的物理块号b，再利用块号b和页内地址来构成物理地址

    
  
    - **分段和分页有什么异同？**
      - 相同点：分页和分段都是离散分配方式，都需要地址变换机构
      - 不同点：页是物理单位，段是逻辑单位。页面的大小是由系统决定的，且固定不变。段的大小是由用户决定的。分页的地址空间是一维的，分段的地址空间是二维的

    

    

    - **什么是局部性原理？什么是虚拟存储器？**
  
      - 局部性原理分两个方面，时间局部性和空间局部性
        - 时间局部性是指某条指令执行不久后会再次执行，某个数据使用后会再次使用，原因是程序存在大量的循环操作
        - 空间局部性是指某个存储单元被访问不久后其附近的存储单元可能被访问，原因是指令通常是顺序存放的，数据一般也以数组聚集存放
      - 虚拟存储器是指具有调入和置换功能，逻辑上对内存进行扩充的一种存储系统。基于局部性原理，在程序装入时，仅仅装入一部分，就可以驱动程序执行，在程序执行过程中，访问的内容不在内存时，操作系统负责将其调入内存。同时操作系统将用不到的内存调出内存。这样在逻辑上扩充的内存的容量

    - **有哪些页面置换算法？什么是抖动**
  
      - 最佳置换算法：将以后最长时间不使用的页面调出，无法实现
      - 先进先出置换算法：贝乐迪异常
      - 最近最久未使用算法
      - clock置换算法：每个页面设置一个使用位和修改位
      - 抖动就是页面置换过程中，频繁的换入换出

    - **有哪些常用的文件分配方式**?
  
      - 连续分配，实现简单，存取速度快。文件长度不宜动态增加
      - 链接分配，分为显式链接和隐式链接
        - 显式链接：把用于链接各个物理块的指针提取出来，显示的放在一张表里，这个表就是FAT文件分配表
        - 隐式链接：每个磁盘块对应一个磁盘块的链表，每个块都有指向下一个块的指针
      - 索引分配，把文件的所有盘块号组成一张索引表
        - 单级索引分配
        - 多级索引分配
        - 混合索引分配

    - **常见的磁盘调度算法**
  
      - 先来先服务
      - 短作业优先 会产生饥饿现象
      - 扫描算法 在磁头当前移动方向上选择与当前磁头距离最近的磁道
      - 循环扫描算法 到达磁盘端点或最远端点请求快速返回起始端

    - **有哪几种IO控制方式**
  
      - 程序查询方式   CPU对外设不断地轮巡检查 CPU和IO只能串行工作 CPU利用率相当低
      - 中断方式  允许IO设备主动请求CPU的服务，在中断完成后可以继续其手头上的工作
      - DMA方式 在IO设备和内存之间直接开辟数据交换通路，数据交换的基本单位是数据块，仅在开始和结束是CPU介入，数据传送由DMA控制器控制完成
      - 通道方式  是DMA的发展，IO通道专门负责输入输出的处理机

    - **引入缓冲区的目的是什么**
  
      - 缓和CPU和IO设备速度不匹配的矛盾
      - 减少CPU中断频率
      - 提高CPU与IO设备的并行性

    - **什么是SPOOLing技术(假脱机)？** **由哪几部分组成？举出一个应用它的实例？**

      - 是慢字符设备和主机交换信息的一种技术，由主机和通道共同参加作业的输入输出工作，是操作系统中一种将独占设备改造成共享设备的技术

      - 由三个部分组成：
  
        - 输入井输出井
        - 输入缓冲和输出缓冲
        - 输入进程和输出进程

        提高了IO速度，将独占设备改造为共享设备，实现了虚拟设备功能

        - 将一台独享的打印机改造为共享的打印机就是应用此技术的典例

          具体做法是：不把真正的打印机分配给用户进程，而是在输出井中开辟一块空闲盘块区，将要打印的数据输入其中，为用户申请打印请求，排成队列，若打印机空闲，从队列头部取出打印请求并打印

      - **解释下微内核？**

        对宏内核架构的操作系统进行**解耦**，将单个功能或模块（如文件系统、设备驱动等）从内核中**拆分**出来，作为一个独立的服务**部署到独立的运行环境**中；内核仅保留极少的功能，**为这些服务提供通信等基础能力，**使其能够互相协作以完成操作系统所必需的功能。这种架构被称为微内核
  
    

